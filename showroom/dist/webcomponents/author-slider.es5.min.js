var AuthorSliderElement=function(){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var e;window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-slider> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),0<(e=Array.from(new Set([])).filter(function(e){return!customElements.get(e)})).length&&(console.error("[ERROR] <author-slider> Required dependenc".concat(1!==e.length?"ies":"y"," not found: ").concat(e.map(function(e){return"<".concat(e,">")}).join(", ").replace(", "+e[e.length-1]," and "+e[e.length-1]))),e.forEach(function(e,t){return console.info("".concat(t+1,". <").concat(e,"> is available at ").concat("https://github.com/author-elements/slider".replace("slider",e.replace("author-",""))))}));var t=function(e){function o(){var u,e,t,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),e=this,t=a(o).call(this,n||'<template><style>@charset "UTF-8"; :host{contain:content;display:flex}:host *,:host :after,:host :before{box-sizing:border-box}author-slider{contain:content;display:flex}author-slider *,author-slider :after,author-slider :before{box-sizing:border-box}</style><slot></slot></template>'),(u=!t||"object"!=typeof t&&"function"!=typeof t?l(e):t).UTIL.defineProperties({defaultAxis:{private:!0,default:"x"},handles:{private:!0,readonly:!0,get:function(){return u.querySelectorAll("author-slider-handle")}},validAxisValues:{private:!0,readonly:!0,default:["x","y","*"]},currentPosition:{private:!0,default:{x:0,y:0}},position:{private:!0,default:{x:0,y:0}},previousPosition:{private:!0,default:{x:0,y:0}}}),u.UTIL.defineAttributes({axis:u.PRIVATE.defaultAxis}),u.UTIL.definePrivateMethods({generateCoordinates:function(e,t){switch(u.axis){case"*":return{x:e(),y:t()};case"x":return{x:e(),y:null};case"y":return{x:null,y:t()};default:return u.UTIL.throwError({message:u.axis?'Invalid axis "'.concat(u.axis,'"'):"No axis specified"})}},generatePositionObject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:u.PRIVATE.position;return u.PRIVATE.generateCoordinates(function(){return{px:e.x,pct:u.UTIL.getPercentageDecimal(e.x,u.clientWidth)}},function(){return{px:e.y,pct:u.UTIL.getPercentageDecimal(e.y,u.clientHeight)}})},getRelativePosition:function(e){var t=u.getBoundingClientRect();return u.PRIVATE.generateCoordinates(function(){return Math.min(Math.max(e.pageX-t.left-window.scrollX,0),u.clientWidth)},function(){return Math.min(Math.max(e.pageY-t.top-window.scrollY,0),u.clientHeight)})},pointerdownHandler:function(e){var t=u.PRIVATE.position;u.PRIVATE.position=u.PRIVATE.getRelativePosition(e);var n=u.PRIVATE,o=n.handles;n.position,n.pointermoveHandler;1<o.length||(0!==o.length&&(o.item(0).position=u.position),u.emit("change",{previous:u.PRIVATE.generatePositionObject(t),position:u.position}),document.addEventListener("pointermove",u.PRIVATE.pointermoveHandler))},pointermoveHandler:function(e){if(!(e.buttons<1)){document.addEventListener("pointerup",u.PRIVATE.pointerupHandler);var t=u.PRIVATE.handles,n=u.PRIVATE.getRelativePosition(e);if(!u.position.x||n.x!==u.position.x.px||!u.position.y||n.y!==u.position.y.px){u.PRIVATE.currentPosition=n;var o=u.PRIVATE.generatePositionObject(u.PRIVATE.currentPosition);0!==t.length&&(t.item(0).position=o),u.emit("slide",o)}}},pointerupHandler:function(e){var t=u.PRIVATE,n=t.currentPosition,o=t.handles,i=t.pointermoveHandler,r=t.pointerupHandler,a=!0;u.PRIVATE.position=n,1<o.length?a=!1:0!==o.length&&(o.item(0).position=u.position),a&&(u.emit("change",{previous:u.previousPosition,position:u.position}),u.PRIVATE.previousPosition=n),document.removeEventListener("pointermove",i),document.removeEventListener("pointerup",r)}}),u.UTIL.registerListeners(l(u),{"attribute.change":function(e){var t=e.detail,n=t.attribute,o=t.oldValue,i=t.newValue;if(i!==o){var r=u.PRIVATE,a=r.defaultAxis,s=r.validAxisValues;switch(n){case"axis":if(!i.split(" ").filter(function(e){return s.includes(e)}).length)return u.setAttribute("axis",a),u.UTIL.throwError({message:'Invalid axis "'.concat(i,'". Valid values include any combination of the following, separated by spaces: "').concat(s.join('", "'),'"')})}}},pointerdown:u.PRIVATE.pointerdownHandler}),u}var t,n,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,AuthorBaseElement(HTMLElement)),t=o,i=[{key:"observedAttributes",get:function(){return["axis"]}}],(n=[{key:"previousPosition",get:function(){return this.PRIVATE.generatePositionObject(this.PRIVATE.previousPosition)}},{key:"position",get:function(){return this.PRIVATE.generatePositionObject(this.PRIVATE.position)}}])&&r(t.prototype,n),i&&r(t,i),o}();return customElements.define("author-slider",t),t}();
//# sourceMappingURL=author-slider.es5.min.js.map
