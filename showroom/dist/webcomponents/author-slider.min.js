var AuthorSliderElement=function(){"use strict";window.hasOwnProperty("AuthorBaseElement")||(console.error('[ERROR] <author-slider> Required dependency "AuthorBaseElement" not found.'),console.info("AuthorBaseElement is available at https://github.com/author-elements/base")),function(){let e=Array.from(new Set([])).filter(e=>!customElements.get(e));e.length>0&&(console.error(`[ERROR] <author-slider> Required dependenc${1!==e.length?"ies":"y"} not found: ${e.map(e=>`<${e}>`).join(", ").replace(", "+e[e.length-1]," and "+e[e.length-1])}`),e.forEach((e,t)=>console.info(`${t+1}. <${e}> is available at ${"https://github.com/author-elements/slider".replace("slider",e.replace("author-",""))}`)))}();class e extends(AuthorBaseElement(HTMLElement)){constructor(e=null){super(e||'<template><style>@charset "UTF-8"; :host{contain:content;display:flex}:host *,:host :after,:host :before{box-sizing:border-box}author-slider{contain:content;display:flex}author-slider *,author-slider :after,author-slider :before{box-sizing:border-box}</style><slot></slot></template>'),this.UTIL.defineProperties({defaultAxis:{private:!0,default:"x"},handles:{private:!0,readonly:!0,get:()=>this.querySelectorAll("author-slider-handle")},validAxisValues:{private:!0,readonly:!0,default:["x","y","*"]},currentPosition:{private:!0,default:{x:0,y:0}},position:{private:!0,default:{x:0,y:0}},previousPosition:{private:!0,default:{x:0,y:0}}}),this.UTIL.defineAttributes({axis:this.PRIVATE.defaultAxis}),this.UTIL.definePrivateMethods({generateCoordinates:(e,t)=>{switch(this.axis){case"*":return{x:e(),y:t()};case"x":return{x:e(),y:null};case"y":return{x:null,y:t()};default:return this.UTIL.throwError({message:this.axis?`Invalid axis "${this.axis}"`:"No axis specified"})}},generatePositionObject:(e=this.PRIVATE.position)=>this.PRIVATE.generateCoordinates(()=>({px:e.x,pct:this.UTIL.getPercentageDecimal(e.x,this.clientWidth)}),()=>({px:e.y,pct:this.UTIL.getPercentageDecimal(e.y,this.clientHeight)})),getRelativePosition:e=>{let t=this.getBoundingClientRect();return this.PRIVATE.generateCoordinates(()=>Math.min(Math.max(e.pageX-t.left-window.scrollX,0),this.clientWidth),()=>Math.min(Math.max(e.pageY-t.top-window.scrollY,0),this.clientHeight))},pointerdownHandler:e=>{let t=this.PRIVATE.position;this.PRIVATE.position=this.PRIVATE.getRelativePosition(e);let{handles:i,position:s,pointermoveHandler:o}=this.PRIVATE;i.length>1||(0!==i.length&&(i.item(0).position=this.position),this.emit("change",{previous:this.PRIVATE.generatePositionObject(t),position:this.position}),document.addEventListener("pointermove",this.PRIVATE.pointermoveHandler))},pointermoveHandler:e=>{if(e.buttons<1)return;document.addEventListener("pointerup",this.PRIVATE.pointerupHandler);let{handles:t}=this.PRIVATE,i=this.PRIVATE.getRelativePosition(e);if(!this.position.x||i.x!==this.position.x.px||!this.position.y||i.y!==this.position.y.px){this.PRIVATE.currentPosition=i;let e=this.PRIVATE.generatePositionObject(this.PRIVATE.currentPosition);0!==t.length&&(t.item(0).position=e),this.emit("slide",e)}},pointerupHandler:e=>{let{currentPosition:t,handles:i,pointermoveHandler:s,pointerupHandler:o}=this.PRIVATE,n=!0;this.PRIVATE.position=t,i.length>1?n=!1:0!==i.length&&(i.item(0).position=this.position),n&&(this.emit("change",{previous:this.previousPosition,position:this.position}),this.PRIVATE.previousPosition=t),document.removeEventListener("pointermove",s),document.removeEventListener("pointerup",o)}}),this.UTIL.registerListeners(this,{"attribute.change":e=>{let{attribute:t,oldValue:i,newValue:s}=e.detail;if(s===i)return;let{defaultAxis:o,validAxisValues:n}=this.PRIVATE;switch(t){case"axis":if(!s.split(" ").filter(e=>n.includes(e)).length)return this.setAttribute("axis",o),this.UTIL.throwError({message:`Invalid axis "${s}". Valid values include any combination of the following, separated by spaces: "${n.join('", "')}"`})}},pointerdown:this.PRIVATE.pointerdownHandler})}static get observedAttributes(){return["axis"]}get previousPosition(){return this.PRIVATE.generatePositionObject(this.PRIVATE.previousPosition)}get position(){return this.PRIVATE.generatePositionObject(this.PRIVATE.position)}}return customElements.define("author-slider",e),e}();
//# sourceMappingURL=author-slider.min.js.map
